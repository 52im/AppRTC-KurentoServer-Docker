version: "2"
services:
  stun-server:
    container_name: mileworks-stun
    build: ./stun
    ports:
      - 1111:1111

  turn-server:
    container_name: mileworks-turn
    build: ./coturn
    volumes: 
      - ./coturn/turnserver.conf:/opt/coturn/etc/turnserver.conf
    ports:
      - 3478:3478

  kurento-media-server:
    container_name: kms
    image: kurento/kurento-media-server
    volumes: 
      - ./kurento/WebRtcEndpoint.conf.ini:/etc/kurento/modules/kurento/WebRtcEndpoint.conf.ini
    ports:
      - 8888:8888

  tomcat-server:
    container_name: mileworks-signal-server
    build: ./tomcat
    ports:
      - 8443:8443
